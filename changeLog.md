# 变更日志

## 2025-05-03

### 用户要求
1. 重新整理导航栏链接的页面:
   - 删除原有的模块（热量历史记录、当日饮食总览、当日餐食记录）
   - 实现或修改所有4个导航页面，尽量使用图标而非文字
   - 左数第一：展示页，展示今日热量和营养素比例，提供饮食评价和建议
   - 左数第二：首页，将"食卡卡"改为"Doro卡卡"
   - 左数第三：数据页，上半部分是月历，下半部分是历史趋势图表
   - 左数第四：个人主页，实现打卡签到、账号功能和自定义设置

### 实施的改动
1. 整体架构变更:
   - 移除原有的模块设计，创建新的多页面结构
   - 创建pages目录，存放三个新的页面
   - 对所有页面的导航栏进行统一，确保互相链接正确
   - 将首页标题从"食卡卡"改为"Doro卡卡"

2. 新增展示页(dashboard.html):
   - 设计热量总览卡片，显示今日热量摄入和盈余
   - 使用Chart.js实现营养素比例的饼图
   - 添加今日饮食评价功能，提供文字评价和营养得分
   - 提供下餐建议功能，推荐合适的食物组合

3. 新增数据页(data.html):
   - 实现月历视图，以颜色块显示近30天的饮食热量状况
   - 绿色表示热量达标或良好，红色表示热量超标
   - 添加热量趋势折线图，可选择不同时间范围查看
   - 添加体重记录和体脂率等身体指标趋势图
   - 显示目标进度和各项指标的统计信息

4. 新增个人主页(profile.html):
   - 设计用户信息展示区，包含头像、个人简介和基础健康数据
   - 实现连续打卡功能，显示本周打卡状态和打卡按钮
   - 添加打卡奖励系统，显示可获得的奖励内容
   - 创建设置菜单，分为个人设置、数据管理和系统设置三部分
   - 添加登录退出功能

5. 样式和交互优化:
   - 所有页面采用统一的设计语言和风格
   - 使用更多图标代替文字，提高界面简洁度
   - 添加动态图表和数据可视化
   - 优化导航栏，移除文字只保留图标
   - 提高所有页面的可访问性，为按钮和控件添加title属性

## 2025-05-02

### 用户要求
1. 热量历史记录模块：
   - 背景从浅绿改为深绿
   - 热量柱变窄
   - 进一步缩短垂直方向距离
   - 右上添加日历按钮，点击弹出日历，允许用户通过日历选择快速跳到过去的某一天
   - 如果选定了过去的某一天，则当前页面数据变成那一天的数据，页面底色变得略灰

2. 餐食记录模块：
   - 取消删除按钮
   - 缩短每条餐食记录垂直方向距离
   - 热量和餐食名称放在同一水平线

3. 当日饮食总览模块：
   - 将热量摄入和还可以吃放在三大营养素进度条的右边
   - 缩短垂直方向高度
   - 取消简单饮食提示

4. 底部导航栏：
   - 取消文字描述，只保留图标
   - 将记录页改为展示页，用于展示今日热量总览及饮食建议
   - 调整导航顺序，展示页放在最左边，现在的首页放在左边第二个位置

### 实施的改动
1. 热量历史记录模块：
   - 将背景色从浅绿色(#4ADE80)改为深绿色(#15803D)
   - 热量柱从36px变窄到24px
   - 减小垂直高度(从24px/16px改为16px/12px的padding)
   - 添加了日历按钮在右上角，点击弹出日历模态框
   - 实现了日历选择功能，支持切换到历史数据查看模式
   - 添加了历史模式样式(灰色背景)，以区分当前日期和历史日期数据

2. 餐食记录模块：
   - 移除了所有食物条目的删除按钮
   - 精简了餐食记录的垂直高度(padding从p-3减小到p-2)
   - 调整了布局，使热量和餐食名称在同一水平线上显示
   - 减小了食物图片尺寸(从64px减小到50px)，减少占用空间

3. 当日饮食总览模块：
   - 重新组织布局，将营养素进度条放在左侧，热量信息放在右侧
   - 移除了简单饮食提示("少量多餐，避免吃得过饱")
   - 优化了热量信息的显示方式，垂直排列更加紧凑

4. 底部导航栏：
   - 移除了所有导航项的文字标签，仅保留图标
   - 重新排序导航项，添加了展示页(图表图标)在最左侧
   - 将原首页移至第二位置
   - 保持了4个主要导航选项，但调整了顺序和图标

5. 功能增强：
   - 添加了完整的日历选择功能，包含模态框和日期选择界面
   - 实现了历史数据查看模式的UI状态切换
   - 增加了日期选择的JavaScript交互逻辑
   - 修复了可访问性问题，为所有按钮添加了title属性

## 2025-05-01

### 用户要求
1. 参考上传图片布局，调整界面
2. 热量历史记录模块改动：
   - 垂直方向缩短
   - 水平方向前后增加两天记录
   - 改为浅绿背景
   - 取消"热量摄入记录"、"查看更多"和"左右滑动查看更多历史记录"的文字
   - 缩小"营养小助手"字体
   - 取消未来记录头上的"预测"文字
   - 热量圆角长方形的颜色与当天热量挂钩，越低颜色越浅，超过目标热量变红

3. 其他调整：
   - 取消"今日饮食总览"、"今日餐食记录"、"查看全部"和今天的日期的文字
   - 垂直方向上缩小长度，让三个模块同时在首页出现
   - 只有当餐食记录超过四条时，才需要往下拉

### 实施的改动
1. 调整了热量历史记录模块：
   - 减小了垂直高度（从44px高度改为24px）
   - 增加了更多天数的记录（增加至7天：28、29、30、1、2、3、4日）
   - 将背景色改为浅绿色（#4ADE80）
   - 移除了所有多余的文字说明
   - 根据热量值调整柱状图颜色（低热量浅色，超标变红）
   - 当天日期使用白色圆形底色和绿色文字标记
   - 添加了日期指示圆圈

2. 优化了整体布局：
   - 顶部标题从"营养小助手"改为"食卡卡"并减小字体大小
   - 移除了各模块的标题文字和查看更多按钮
   - 减少了各部分的垂直间距和内部填充
   - 压缩了各模块的高度，使三个主要模块同时在首页可见
   - 使用真实的营养素数据（碳水137克、蛋白质40.6克、脂肪29.1克）
   - 修改了进度条颜色和布局

3. 修改了底部导航栏：
   - 更改了图标样式，使用更符合功能的图标
   - 导航选项从3个增加到4个（首页、记录、趋势、我的）

4. 调整了餐食记录模块：
   - 使用实际的食物记录数据（炒鸡蛋、炒饭、番茄炒蛋）
   - 添加了具体的食物重量和热量信息
   - 增加了删除按钮
   - 添加了"日记"功能板块
   - 右下角按钮从相机图标改为加号

5. 修复了可访问性问题：
   - 为所有按钮添加了title属性，提高可访问性
   - 调整了颜色对比度，使文字更易读 