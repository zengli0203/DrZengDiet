# 饮食健康小程序设计文档

## 项目概述
这是一个拍照上传每日饮食照片、跟踪卡路里，并展示各种数据趋势图的小程序。用户可以记录每日饮食，查看营养摄入分析，获取饮食建议。

## 目录结构
```
/
├── index.html          // 项目主页面，通过iframe引入各模块展示
├── UI.html             // 模块展示页面
├── pages/              // 页面目录
│   ├── dashboard.html  // 展示页
│   ├── data.html       // 数据页
│   ├── profile.html    // 个人主页
│   ├── camera.html     // 拍照页面
│   ├── meal-edit.html  // 餐食编辑页面
├── modules/            // 各功能模块
│   ├── calorie-history.html    // 历史热量摄入记录模块
│   ├── daily-overview.html     // 当日饮食总览模块
│   ├── meal-records.html       // 当日餐食记录模块
│   ├── navbar.html             // 导航栏模块
├── assets/             // 静态资源
│   ├── icons/          // 图标资源
│   ├── images/         // 图片资源
├── styles/             // 样式文件
│   ├── main.css        // 主样式文件
├── scripts/            // JavaScript文件
│   ├── main.js         // 主脚本文件
```

## 技术要点

### 开发规范
- 单个页面尺寸：375x812px，带有描边模拟手机边框
- 保留小程序右上角胶囊按钮
- 不显示状态栏、时间、信号等信息
- 不显示非移动端元素（如滚动条）

### 技术栈
- HTML5
- CSS3 (Tailwind CSS通过CDN引入)
- JavaScript
- Chart.js (用于各种数据可视化)

### 设计风格
- 现代优雅的极简主义美学
- 清新柔和的渐变配色
- 恰到好处的留白设计
- 轻盈通透的沉浸式体验
- 信息层级通过微妙的阴影过渡与模块化卡片布局清晰呈现
- 精心打磨的圆角
- 细腻的微交互
- 舒适的视觉比例

### 主要功能模块
1. **热量历史记录**
   - 展示前后3天的摄入总热量
   - 垂直圆角长方形表示
   - 点击切换到当日饮食记录
   - 左右移动展示更早热量记录
   - 水平虚线表示目标每日摄入热量

2. **当日饮食总览**
   - 展示三大营养素比例和重量
   - 显示总摄入热量
   - 显示剩余可摄入热量
   - 优化垂直空间利用

3. **当日餐食记录**
   - 以饮食记录为单位展示
   - 包含食物图片、名称、三大营养素比例、热量
   - 分类展示早中晚餐、零食、夜宵等
   - 点击食物记录进入详细编辑页面

4. **导航栏**
   - 四个导航选项：展示页、首页、数据页、个人中心
   - 只使用图标不显示文字

5. **拍照功能**
   - 各页面右下角悬浮拍照按钮
   - 支持拍照、选择本地照片或直接跳过
   - 拍照预览与确认功能
   - 扫描辅助线和动效提供视觉引导
   - 闪光灯控制（自动/开启/关闭）

6. **餐食编辑页面**
   - 展示食物图片，支持在图片上添加食物标签
   - 三大营养素和微量元素含量分析
   - 食物营养分析和健康建议
   - 健康评分详情展开功能
   - 现代化的分量调整控制器

### 新增功能详细说明

#### 拍照功能
- **拍照页面**：黑色背景的专业拍照界面
- **取景框**：
  * 方便食物拍摄的取景辅助线
  * 绿色扫描动画效果
  * 四角绿色标记，清晰界定扫描区域
- **控制按钮**：
  * 拍照按钮：屏幕底部中央，白色圆形大按钮
  * 上传按钮：左下角，允许从相册选择照片
  * 跳过按钮：右下角，直接进入编辑页面
  * 关闭按钮：右上角，返回上一页面
  * 闪光灯控制：支持自动/开启/关闭三种模式，带状态提示
- **预览模式**：拍照后显示预览，提供确认和重拍选项
- **扫描选项**：支持普通拍照、条码扫描、图库上传和收藏夹等多种模式

#### 餐食编辑功能
- **多入口支持**：
  * 拍照后进入
  * 上传照片后进入
  * 点击已有餐食记录进入
  * 跳过拍照直接进入
- **现代化UI设计**：
  * 食物图片占据顶部区域
  * 食物标签直接显示在图片上，标注不同食材的卡路里
  * 圆弧卡片从底部向上滑出
  * 底部固定操作按钮区
- **主要功能区域**：
  * 食物图片展示与标签功能
  * 餐食类型标签与食物名称编辑
  * 现代化分量控制器（圆形加减按钮）
  * 卡片式营养素展示（热量、碳水、蛋白质、脂肪）
  * 评分系统（维生素、微量元素、健康评分）
  * 进度条可视化评分
  * 健康评分详情展开/收起功能
  * 个性化食物分析与健康建议

### 资源引用规范
- 图标：引用在线矢量图标库内的图标（不带背景色块、底板、外框）
- 图片：使用开源图片网站链接形式引入
- 样式：引入Tailwind CSS CDN实现 

## 项目完成情况

项目已成功完成，下面是各模块实现情况：

1. **热量历史记录模块**
   - 实现了垂直圆角长方形展示热量
   - 添加了水平虚线表示目标热量
   - 支持左右滑动查看更多历史记录
   - 突出显示当天热量数据

2. **当日饮食总览模块**
   - 展示了三大营养素比例和重量
   - 显示已摄入热量和剩余可摄入热量
   - 通过进度条直观展示营养素摄入情况
   - 优化了垂直方向空间利用

3. **当日餐食记录模块**
   - 按照早中晚餐等分类展示食物记录
   - 每条记录包含食物图片、名称、三大营养素比例、热量
   - 点击食物记录可进入编辑页面
   - 支持按餐食类型筛选

4. **导航栏模块**
   - 实现了四个导航选项：展示页、首页、数据页、个人中心
   - 只显示图标不显示文字，节省空间
   - 高亮当前选中的导航项

5. **拍照功能**
   - 创建专业拍照界面，支持拍照、上传和跳过选项
   - 实现照片预览和确认功能
   - 添加绿色扫描辅助线和动画效果，提供视觉引导
   - 实现闪光灯控制功能，支持自动/开启/关闭三种模式
   - 在所有主要页面添加拍照快捷按钮

6. **餐食编辑功能**
   - 实现现代化UI设计，食物图片占据顶部，底部为滑出式卡片
   - 添加食物标签功能，直接在图片上标注不同食材的卡路里
   - 实现评分进度条和直观的评分展示（如B+、C等级）
   - 开发健康评分详情展开/收起功能，点击可查看详细建议
   - 提供个性化食物分析和健康建议
   - 支持多种入口方式

## 设计亮点

1. **现代优雅的极简主义美学**
   - 使用圆角设计、柔和的阴影和足够的留白
   - 采用清新的配色方案
   - 模块化的卡片布局
   - 滑动展开的交互效果

2. **细节处理**
   - 重要数据使用强对比色突出显示
   - 次要信息使用较低对比度的颜色
   - 添加了丰富的微交互效果（如扫描动画、闪光灯状态提示）
   - 精心设计的数据可视化（评分进度条、食物标签）

3. **完整的用户流程**
   - 从拍照到分析的无缝体验
   - 多入口支持不同用户习惯
   - 清晰的视觉引导
   - 功能间的顺畅过渡

4. **可访问性优化**
   - 所有交互元素添加了title属性
   - 合理的色彩对比度
   - 清晰的信息层级
   - 直观的操作反馈

## 技术实现

1. **使用Tailwind CSS实现样式**
   - 通过CDN引入
   - 充分利用Tailwind的工具类快速构建UI
   - 响应式设计确保在不同设备上的适配性

2. **高级交互效果**
   - CSS动画实现扫描线效果
   - JavaScript控制闪光灯状态切换
   - 实现健康评分详情的展开/收起功能
   - 动态生成食物标签

3. **直观的数据展示**
   - 评分系统采用直观的字母等级（B+、C等）
   - 进度条可视化评分情况
   - 使用图标和颜色编码增强信息传达
   - 将复杂的营养信息简化为用户易懂的格式 